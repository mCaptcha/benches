(()=>{"use strict";var e,t,r,n,o,a={485:(e,t,r)=>{r.a(e,(async n=>{r.d(t,{I:()=>h});var o=r(426);e=r.hmd(e);var a=n([o]);o=(a.then?await a:a)[0];let c=0,i=null;function s(){return null!==i&&i.buffer===o.memory.buffer||(i=new Uint8Array(o.memory.buffer)),i}let f=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const l="function"==typeof f.encodeInto?function(e,t){return f.encodeInto(e,t)}:function(e,t){const r=f.encode(e);return t.set(r),{read:e.length,written:r.length}};function u(e,t,r){if(void 0===r){const r=f.encode(e),n=t(r.length);return s().subarray(n,n+r.length).set(r),c=r.length,n}let n=e.length,o=t(n);const a=s();let i=0;for(;i<n;i++){const t=e.charCodeAt(i);if(t>127)break;a[o+i]=t}if(i!==n){0!==i&&(e=e.slice(i)),o=r(o,n,n=i+3*e.length);const t=s().subarray(o+i,o+n);i+=l(e,t).written}return c=i,o}let d=null;function b(){return null!==d&&d.buffer===o.memory.buffer||(d=new Int32Array(o.memory.buffer)),d}let p=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function h(e,t,r){try{const y=o.__wbindgen_add_to_stack_pointer(-16);var n=u(e,o.__wbindgen_malloc,o.__wbindgen_realloc),a=c,i=u(t,o.__wbindgen_malloc,o.__wbindgen_realloc),f=c;o.gen_pow(y,n,a,i,f,r);var l=b()[y/4+0],d=b()[y/4+1];return h=l,m=d,p.decode(s().subarray(h,h+m))}finally{o.__wbindgen_add_to_stack_pointer(16),o.__wbindgen_free(l,d)}var h,m}p.decode()}))},303:(e,t,r)=>{r.a(e,(async e=>{var t=r(485),n=e([t]);t=(n.then?await n:n)[0];var o={string:"6e2a53dbc7d307970d7ba3c0000221722cb74f1c325137251ce8fa5c2240",difficulty_factor:1,salt:"674243647f1c355da8607a8cdda05120d79ca5d1af8b3b49359d056a0a82"};console.debug("worker registered"),onmessage=function(e){console.debug("message received at worker");var r=parseInt(e.data);o.difficulty_factor=r;var n=performance.now();(0,t.I)(o.salt,o.string,o.difficulty_factor);var a=performance.now();postMessage({difficulty:r,time:a-n})}}))},426:(e,t,r)=>{e.exports=r.v(t,e.id,"b08ac87b47bbc78ac8ba")}},c={};function i(e){var t=c[e];if(void 0!==t)return t.exports;var r=c[e]={id:e,loaded:!1,exports:{}};return a[e](r,r.exports,i),r.loaded=!0,r.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",r=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},n=e=>!--e.r&&e(),o=(e,t)=>e?e.push(t):n(t),i.a=(a,c,i)=>{var s,f,l,u=i&&[],d=a.exports,b=!0,p=!1,h=(t,r,n)=>{p||(p=!0,r.r+=t.length,t.map(((t,o)=>t[e](r,n))),p=!1)},m=new Promise(((e,t)=>{l=t,f=()=>(e(d),r(u),u=0)}));m[t]=d,m[e]=(e,t)=>{if(b)return n(e);s&&h(s,e,t),o(u,e),m.catch(t)},a.exports=m,c((a=>{if(!a)return f();var c,i;s=(a=>a.map((a=>{if(null!==a&&"object"==typeof a){if(a[e])return a;if(a.then){var c=[];a.then((e=>{i[t]=e,r(c),c=0}));var i={};return i[e]=(e,t)=>(o(c,e),a.catch(t)),i}}var s={};return s[e]=e=>n(e),s[t]=a,s})))(a);var l=new Promise(((e,r)=>{(c=()=>e(i=s.map((e=>e[t])))).r=0,h(s,c,r)}));return c.r?l:i})).then(f,l),b=!1},i.d=(e,t)=>{for(var r in t)i.o(t,r)&&!i.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.v=(e,t,r,n)=>{var o=fetch(i.p+""+r+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(o,n).then((t=>Object.assign(e,t.instance.exports))):o.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,n))).then((t=>Object.assign(e,t.instance.exports)))},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i(303)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUUsU0FBU3JFLFdBRS9DOEQsRUFDTDlCLE1BQU1zQyxHQUFPQSxFQUFFQyxnQkFDZnZDLE1BQU13QyxHQUFXUCxZQUFZUSxZQUFZRCxFQUFPWCxLQUNoRDdCLE1BQU1tQyxHQUFTM0IsT0FBTzRCLE9BQU9wRSxFQUFTbUUsRUFBSUUsU0FBU3JFLFksTUNUdEQsSUFBSTBFLEVBQ0E3RSxFQUFvQitDLEVBQUUrQixnQkFBZUQsRUFBWTdFLEVBQW9CK0MsRUFBRWdDLFNBQVcsSUFDdEYsSUFBSUMsRUFBV2hGLEVBQW9CK0MsRUFBRWlDLFNBQ3JDLElBQUtILEdBQWFHLElBQ2JBLEVBQVNDLGdCQUNaSixFQUFZRyxFQUFTQyxjQUFjQyxNQUMvQkwsR0FBVyxDQUNmLElBQUlNLEVBQVVILEVBQVNJLHFCQUFxQixVQUN6Q0QsRUFBUXBJLFNBQVE4SCxFQUFZTSxFQUFRQSxFQUFRcEksT0FBUyxHQUFHbUksS0FLN0QsSUFBS0wsRUFBVyxNQUFNLElBQUlyQixNQUFNLHlEQUNoQ3FCLEVBQVlBLEVBQVVRLFFBQVEsT0FBUSxJQUFJQSxRQUFRLFFBQVMsSUFBSUEsUUFBUSxZQUFhLEtBQ3BGckYsRUFBb0JtRSxFQUFJVSxHLEdDWkU3RSxFQUFvQixNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVuY2hlcy93ZWJwYWNrL3J1bnRpbWUvYXN5bmMgbW9kdWxlIiwid2VicGFjazovL2JlbmNoZXMvLi9ub2RlX21vZHVsZXMvbWNhcHRjaGEtYnJvd3Nlci9tY2FwdGNoYV9icm93c2VyX2JnLmpzIiwid2VicGFjazovL2JlbmNoZXMvLi9zcmMvYmVuY2gudHMiLCJ3ZWJwYWNrOi8vYmVuY2hlcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iZW5jaGVzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iZW5jaGVzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vYmVuY2hlcy93ZWJwYWNrL3J1bnRpbWUvaGFybW9ueSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL2JlbmNoZXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iZW5jaGVzL3dlYnBhY2svcnVudGltZS93YXNtIGxvYWRpbmciLCJ3ZWJwYWNrOi8vYmVuY2hlcy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9iZW5jaGVzL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgd2VicGFja1RoZW4gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2woXCJ3ZWJwYWNrIHRoZW5cIikgOiBcIl9fd2VicGFja190aGVuX19cIjtcbnZhciB3ZWJwYWNrRXhwb3J0cyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbChcIndlYnBhY2sgZXhwb3J0c1wiKSA6IFwiX193ZWJwYWNrX2V4cG9ydHNfX1wiO1xudmFyIGNvbXBsZXRlUXVldWUgPSAocXVldWUpID0+IHtcblx0aWYocXVldWUpIHtcblx0XHRxdWV1ZS5mb3JFYWNoKChmbikgPT4gKGZuLnItLSkpO1xuXHRcdHF1ZXVlLmZvckVhY2goKGZuKSA9PiAoZm4uci0tID8gZm4ucisrIDogZm4oKSkpO1xuXHR9XG59XG52YXIgY29tcGxldGVGdW5jdGlvbiA9IChmbikgPT4gKCEtLWZuLnIgJiYgZm4oKSk7XG52YXIgcXVldWVGdW5jdGlvbiA9IChxdWV1ZSwgZm4pID0+IChxdWV1ZSA/IHF1ZXVlLnB1c2goZm4pIDogY29tcGxldGVGdW5jdGlvbihmbikpO1xudmFyIHdyYXBEZXBzID0gKGRlcHMpID0+IChkZXBzLm1hcCgoZGVwKSA9PiB7XG5cdGlmKGRlcCAhPT0gbnVsbCAmJiB0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKSB7XG5cdFx0aWYoZGVwW3dlYnBhY2tUaGVuXSkgcmV0dXJuIGRlcDtcblx0XHRpZihkZXAudGhlbikge1xuXHRcdFx0dmFyIHF1ZXVlID0gW107XG5cdFx0XHRkZXAudGhlbigocikgPT4ge1xuXHRcdFx0XHRvYmpbd2VicGFja0V4cG9ydHNdID0gcjtcblx0XHRcdFx0Y29tcGxldGVRdWV1ZShxdWV1ZSk7XG5cdFx0XHRcdHF1ZXVlID0gMDtcblx0XHRcdH0pO1xuXHRcdFx0dmFyIG9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvYmpbd2VicGFja1RoZW5dID0gKGZuLCByZWplY3QpID0+IChxdWV1ZUZ1bmN0aW9uKHF1ZXVlLCBmbiksIGRlcC5jYXRjaChyZWplY3QpKTtcblx0XHRcdHJldHVybiBvYmo7XG5cdFx0fVxuXHR9XG5cdHZhciByZXQgPSB7fTtcblx0XHRcdFx0XHRcdHJldFt3ZWJwYWNrVGhlbl0gPSAoZm4pID0+IChjb21wbGV0ZUZ1bmN0aW9uKGZuKSk7XG5cdFx0XHRcdFx0XHRyZXRbd2VicGFja0V4cG9ydHNdID0gZGVwO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJldDtcbn0pKTtcbl9fd2VicGFja19yZXF1aXJlX18uYSA9IChtb2R1bGUsIGJvZHksIGhhc0F3YWl0KSA9PiB7XG5cdHZhciBxdWV1ZSA9IGhhc0F3YWl0ICYmIFtdO1xuXHR2YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzO1xuXHR2YXIgY3VycmVudERlcHM7XG5cdHZhciBvdXRlclJlc29sdmU7XG5cdHZhciByZWplY3Q7XG5cdHZhciBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuXHR2YXIgbmVzdGVkID0gZmFsc2U7XG5cdHZhciB3aGVuQWxsID0gKGRlcHMsIG9uUmVzb2x2ZSwgb25SZWplY3QpID0+IHtcblx0XHRpZiAobmVzdGVkKSByZXR1cm47XG5cdFx0bmVzdGVkID0gdHJ1ZTtcblx0XHRvblJlc29sdmUuciArPSBkZXBzLmxlbmd0aDtcblx0XHRkZXBzLm1hcCgoZGVwLCBpKSA9PiAoZGVwW3dlYnBhY2tUaGVuXShvblJlc29sdmUsIG9uUmVqZWN0KSkpO1xuXHRcdG5lc3RlZCA9IGZhbHNlO1xuXHR9O1xuXHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWopID0+IHtcblx0XHRyZWplY3QgPSByZWo7XG5cdFx0b3V0ZXJSZXNvbHZlID0gKCkgPT4gKHJlc29sdmUoZXhwb3J0cyksIGNvbXBsZXRlUXVldWUocXVldWUpLCBxdWV1ZSA9IDApO1xuXHR9KTtcblx0cHJvbWlzZVt3ZWJwYWNrRXhwb3J0c10gPSBleHBvcnRzO1xuXHRwcm9taXNlW3dlYnBhY2tUaGVuXSA9IChmbiwgcmVqZWN0Rm4pID0+IHtcblx0XHRpZiAoaXNFdmFsdWF0aW5nKSB7IHJldHVybiBjb21wbGV0ZUZ1bmN0aW9uKGZuKTsgfVxuXHRcdGlmIChjdXJyZW50RGVwcykgd2hlbkFsbChjdXJyZW50RGVwcywgZm4sIHJlamVjdEZuKTtcblx0XHRxdWV1ZUZ1bmN0aW9uKHF1ZXVlLCBmbik7XG5cdFx0cHJvbWlzZS5jYXRjaChyZWplY3RGbik7XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gcHJvbWlzZTtcblx0Ym9keSgoZGVwcykgPT4ge1xuXHRcdGlmKCFkZXBzKSByZXR1cm4gb3V0ZXJSZXNvbHZlKCk7XG5cdFx0Y3VycmVudERlcHMgPSB3cmFwRGVwcyhkZXBzKTtcblx0XHR2YXIgZm4sIHJlc3VsdDtcblx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGZuID0gKCkgPT4gKHJlc29sdmUocmVzdWx0ID0gY3VycmVudERlcHMubWFwKChkKSA9PiAoZFt3ZWJwYWNrRXhwb3J0c10pKSkpO1xuXHRcdFx0Zm4uciA9IDA7XG5cdFx0XHR3aGVuQWxsKGN1cnJlbnREZXBzLCBmbiwgcmVqZWN0KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gZm4uciA/IHByb21pc2UgOiByZXN1bHQ7XG5cdH0pLnRoZW4ob3V0ZXJSZXNvbHZlLCByZWplY3QpO1xuXHRpc0V2YWx1YXRpbmcgPSBmYWxzZTtcbn07IiwiaW1wb3J0ICogYXMgd2FzbSBmcm9tICcuL21jYXB0Y2hhX2Jyb3dzZXJfYmcud2FzbSc7XG5cbmxldCBXQVNNX1ZFQ1RPUl9MRU4gPSAwO1xuXG5sZXQgY2FjaGVnZXRVaW50OE1lbW9yeTAgPSBudWxsO1xuZnVuY3Rpb24gZ2V0VWludDhNZW1vcnkwKCkge1xuICAgIGlmIChjYWNoZWdldFVpbnQ4TWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWdldFVpbnQ4TWVtb3J5MC5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlcikge1xuICAgICAgICBjYWNoZWdldFVpbnQ4TWVtb3J5MCA9IG5ldyBVaW50OEFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWdldFVpbnQ4TWVtb3J5MDtcbn1cblxuY29uc3QgbFRleHRFbmNvZGVyID0gdHlwZW9mIFRleHRFbmNvZGVyID09PSAndW5kZWZpbmVkJyA/ICgwLCBtb2R1bGUucmVxdWlyZSkoJ3V0aWwnKS5UZXh0RW5jb2RlciA6IFRleHRFbmNvZGVyO1xuXG5sZXQgY2FjaGVkVGV4dEVuY29kZXIgPSBuZXcgbFRleHRFbmNvZGVyKCd1dGYtOCcpO1xuXG5jb25zdCBlbmNvZGVTdHJpbmcgPSAodHlwZW9mIGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZUludG8gPT09ICdmdW5jdGlvbidcbiAgICA/IGZ1bmN0aW9uIChhcmcsIHZpZXcpIHtcbiAgICByZXR1cm4gY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlSW50byhhcmcsIHZpZXcpO1xufVxuICAgIDogZnVuY3Rpb24gKGFyZywgdmlldykge1xuICAgIGNvbnN0IGJ1ZiA9IGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZShhcmcpO1xuICAgIHZpZXcuc2V0KGJ1Zik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVhZDogYXJnLmxlbmd0aCxcbiAgICAgICAgd3JpdHRlbjogYnVmLmxlbmd0aFxuICAgIH07XG59KTtcblxuZnVuY3Rpb24gcGFzc1N0cmluZ1RvV2FzbTAoYXJnLCBtYWxsb2MsIHJlYWxsb2MpIHtcblxuICAgIGlmIChyZWFsbG9jID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgYnVmID0gY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlKGFyZyk7XG4gICAgICAgIGNvbnN0IHB0ciA9IG1hbGxvYyhidWYubGVuZ3RoKTtcbiAgICAgICAgZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyLCBwdHIgKyBidWYubGVuZ3RoKS5zZXQoYnVmKTtcbiAgICAgICAgV0FTTV9WRUNUT1JfTEVOID0gYnVmLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBsZXQgbGVuID0gYXJnLmxlbmd0aDtcbiAgICBsZXQgcHRyID0gbWFsbG9jKGxlbik7XG5cbiAgICBjb25zdCBtZW0gPSBnZXRVaW50OE1lbW9yeTAoKTtcblxuICAgIGxldCBvZmZzZXQgPSAwO1xuXG4gICAgZm9yICg7IG9mZnNldCA8IGxlbjsgb2Zmc2V0KyspIHtcbiAgICAgICAgY29uc3QgY29kZSA9IGFyZy5jaGFyQ29kZUF0KG9mZnNldCk7XG4gICAgICAgIGlmIChjb2RlID4gMHg3RikgYnJlYWs7XG4gICAgICAgIG1lbVtwdHIgKyBvZmZzZXRdID0gY29kZTtcbiAgICB9XG5cbiAgICBpZiAob2Zmc2V0ICE9PSBsZW4pIHtcbiAgICAgICAgaWYgKG9mZnNldCAhPT0gMCkge1xuICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcHRyID0gcmVhbGxvYyhwdHIsIGxlbiwgbGVuID0gb2Zmc2V0ICsgYXJnLmxlbmd0aCAqIDMpO1xuICAgICAgICBjb25zdCB2aWV3ID0gZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyICsgb2Zmc2V0LCBwdHIgKyBsZW4pO1xuICAgICAgICBjb25zdCByZXQgPSBlbmNvZGVTdHJpbmcoYXJnLCB2aWV3KTtcblxuICAgICAgICBvZmZzZXQgKz0gcmV0LndyaXR0ZW47XG4gICAgfVxuXG4gICAgV0FTTV9WRUNUT1JfTEVOID0gb2Zmc2V0O1xuICAgIHJldHVybiBwdHI7XG59XG5cbmxldCBjYWNoZWdldEludDMyTWVtb3J5MCA9IG51bGw7XG5mdW5jdGlvbiBnZXRJbnQzMk1lbW9yeTAoKSB7XG4gICAgaWYgKGNhY2hlZ2V0SW50MzJNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0SW50MzJNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5tZW1vcnkuYnVmZmVyKSB7XG4gICAgICAgIGNhY2hlZ2V0SW50MzJNZW1vcnkwID0gbmV3IEludDMyQXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0SW50MzJNZW1vcnkwO1xufVxuXG5jb25zdCBsVGV4dERlY29kZXIgPSB0eXBlb2YgVGV4dERlY29kZXIgPT09ICd1bmRlZmluZWQnID8gKDAsIG1vZHVsZS5yZXF1aXJlKSgndXRpbCcpLlRleHREZWNvZGVyIDogVGV4dERlY29kZXI7XG5cbmxldCBjYWNoZWRUZXh0RGVjb2RlciA9IG5ldyBsVGV4dERlY29kZXIoJ3V0Zi04JywgeyBpZ25vcmVCT006IHRydWUsIGZhdGFsOiB0cnVlIH0pO1xuXG5jYWNoZWRUZXh0RGVjb2Rlci5kZWNvZGUoKTtcblxuZnVuY3Rpb24gZ2V0U3RyaW5nRnJvbVdhc20wKHB0ciwgbGVuKSB7XG4gICAgcmV0dXJuIGNhY2hlZFRleHREZWNvZGVyLmRlY29kZShnZXRVaW50OE1lbW9yeTAoKS5zdWJhcnJheShwdHIsIHB0ciArIGxlbikpO1xufVxuLyoqXG4qIGdlbmVyYXRlIHByb29mLW9mLXdvcmtcbiogYGBgcnVzdFxuKiBmbiBtYWluKCkge1xuKiAgICB1c2UgbWNhcHRjaGFfYnJvd3Nlcjo6KjtcbiogICAgdXNlIHBvd19zaGEyNTY6Oio7XG4qXG4qXG4qICAgIC8vIHNhbHQgdXNpbmcgd2hpY2ggUG9XIHNob3VsZCBiZSBjb21wdXRlZFxuKiAgICBjb25zdCBTQUxUOiAmc3RyID0gXCJ5cmFuZG9tc2FsdGlzbm90bG9uZ2Vub3VnXCI7XG4qICAgIC8vIG9uZS10aW1lIHBocmFzZSBvdmVyIHdoaWNoIFBvVyBzaG91bGQgYmUgY29tcHV0ZWRcbiogICAgY29uc3QgUEhSQVNFOiAmc3RyID0gXCJpcm9ubWFuc3Vja3NcIjtcbiogICAgLy8gYW5kIHRoZSBkaWZmaWN1bHR5IGZhY3RvclxuKiAgICBjb25zdCBESUZGSUNVTFRZOiB1MzIgPSAxMDAwO1xuKlxuKiAgICAvLyBjdXJyZW50bHkgZ2VuX3BvdygpIHJldHVybnMgYSBKU09OIGZvcm1hdGVkIHN0cmluZyB0byBiZXR0ZXIgY29tbXVuaWNhdGVcbiogICAgLy8gd2l0aCBKYXZhU2NyaXB0LiBTZWUgW1BvVzxUPl1bcG93X3NoYTI1Njo6UG9XXSBmb3Igc2NoZW1hXG4qICAgIGxldCBzZXJpYWxpc2VkX3dvcmsgPSBnZW5fcG93KFNBTFQuaW50bygpLCBQSFJBU0UuaW50bygpLCBESUZGSUNVTFRZKTtcbipcbipcbiogICAgbGV0IHdvcms6IFdvcmsgPSBzZXJkZV9qc29uOjpmcm9tX3N0cigmc2VyaWFsaXNlZF93b3JrKS51bndyYXAoKTtcbipcbiogICAgbGV0IHdvcmsgPSBQb1dCdWlsZGVyOjpkZWZhdWx0KClcbiogICAgICAgIC5yZXN1bHQod29yay5yZXN1bHQpXG4qICAgICAgICAubm9uY2Uod29yay5ub25jZSlcbiogICAgICAgIC5idWlsZCgpXG4qICAgICAgICAudW53cmFwKCk7XG4qXG4qICAgIGxldCBjb25maWcgPSBDb25maWdCdWlsZGVyOjpkZWZhdWx0KCkuc2FsdChTQUxULmludG8oKSkuYnVpbGQoKS51bndyYXAoKTtcbiogICAgYXNzZXJ0IShjb25maWcuaXNfdmFsaWRfcHJvb2YoJndvcmssICZQSFJBU0UudG9fc3RyaW5nKCkpKTtcbiogICAgYXNzZXJ0IShjb25maWcuaXNfc3VmZmljaWVudF9kaWZmaWN1bHR5KCZ3b3JrLCBESUZGSUNVTFRZKSk7XG4qIH1cbiogYGBgXG4qIEBwYXJhbSB7c3RyaW5nfSBzYWx0XG4qIEBwYXJhbSB7c3RyaW5nfSBwaHJhc2VcbiogQHBhcmFtIHtudW1iZXJ9IGRpZmZpY3VsdHlfZmFjdG9yXG4qIEByZXR1cm5zIHtzdHJpbmd9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbl9wb3coc2FsdCwgcGhyYXNlLCBkaWZmaWN1bHR5X2ZhY3Rvcikge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICB2YXIgcHRyMCA9IHBhc3NTdHJpbmdUb1dhc20wKHNhbHQsIHdhc20uX193YmluZGdlbl9tYWxsb2MsIHdhc20uX193YmluZGdlbl9yZWFsbG9jKTtcbiAgICAgICAgdmFyIGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIHZhciBwdHIxID0gcGFzc1N0cmluZ1RvV2FzbTAocGhyYXNlLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jLCB3YXNtLl9fd2JpbmRnZW5fcmVhbGxvYyk7XG4gICAgICAgIHZhciBsZW4xID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICB3YXNtLmdlbl9wb3cocmV0cHRyLCBwdHIwLCBsZW4wLCBwdHIxLCBsZW4xLCBkaWZmaWN1bHR5X2ZhY3Rvcik7XG4gICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcbiAgICAgICAgdmFyIHIxID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xuICAgICAgICByZXR1cm4gZ2V0U3RyaW5nRnJvbVdhc20wKHIwLCByMSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocjAsIHIxKTtcbiAgICB9XG59XG5cbiIsIi8qXG4gKiBtQ2FwdGNoYSBpcyBhIFBvVyBiYXNlZCBEb1MgcHJvdGVjdGlvbiBzb2Z0d2FyZS5cbiAqIFRoaXMgaXMgdGhlIGZyb250ZW5kIHdlYiBjb21wb25lbnQgb2YgdGhlIG1DYXB0Y2hhIHN5c3RlbVxuICogQ29weXJpZ2h0IMKpIDIwMjEgQXJhdmludGggTWFuaXZuYW5hbiA8cmVhbGFyYXZpbnRoQGJhdHNlbnNlLm5ldD4uXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgQXBhY2hlIDIuMCBvciBNSVQgbGljZW5zZS5cbiAqIFlvdSBzaG91ZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiBNSVQgYW5kIEFwYWNoZSAyLjAgYWxvbmcgd2l0aFxuICogdGhpcyBwcm9ncmFtLiBJZiBub3QsIHNlZSA8aHR0cHM6Ly9zcGR4Lm9yZy9saWNlbnNlcy9NSVQuaHRtbD4gZm9yXG4gKiBNSVQgb3IgPGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMD4gZm9yIEFwYWNoZS5cbiAqL1xuaW1wb3J0IHtnZW5fcG93fSBmcm9tICdtY2FwdGNoYS1icm93c2VyJztcbmltcG9ydCB7UGVyZn0gZnJvbSAnLi90eXBlcyc7XG5cbnR5cGUgUG9XQ29uZmlnID0ge1xuICBzdHJpbmc6IHN0cmluZztcbiAgZGlmZmljdWx0eV9mYWN0b3I6IG51bWJlcjtcbiAgc2FsdDogc3RyaW5nO1xufTtcblxuY29uc3QgU0FMVCA9ICc2NzQyNDM2NDdmMWMzNTVkYTg2MDdhOGNkZGEwNTEyMGQ3OWNhNWQxYWY4YjNiNDkzNTlkMDU2YTBhODInO1xuY29uc3QgUEhSQVNFID0gJzZlMmE1M2RiYzdkMzA3OTcwZDdiYTNjMDAwMDIyMTcyMmNiNzRmMWMzMjUxMzcyNTFjZThmYTVjMjI0MCc7XG5cbmNvbnN0IGNvbmZpZzogUG9XQ29uZmlnID0ge1xuICBzdHJpbmc6IFBIUkFTRSxcbiAgZGlmZmljdWx0eV9mYWN0b3I6IDEsXG4gIHNhbHQ6IFNBTFQsXG59O1xuXG5jb25zb2xlLmRlYnVnKCd3b3JrZXIgcmVnaXN0ZXJlZCcpO1xuXG5vbm1lc3NhZ2UgPSBmdW5jdGlvbihldmVudCkge1xuICBjb25zb2xlLmRlYnVnKCdtZXNzYWdlIHJlY2VpdmVkIGF0IHdvcmtlcicpO1xuICBsZXQgZGlmZmljdWx0eV9mYWN0b3IgPSBwYXJzZUludChldmVudC5kYXRhKTtcbiAgY29uZmlnLmRpZmZpY3VsdHlfZmFjdG9yID0gZGlmZmljdWx0eV9mYWN0b3I7XG5cbiAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgZ2VuX3Bvdyhjb25maWcuc2FsdCwgY29uZmlnLnN0cmluZywgY29uZmlnLmRpZmZpY3VsdHlfZmFjdG9yKTtcbiAgY29uc3QgdDEgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgY29uc3QgdGltZSA9IHQxIC0gdDA7XG5cbiAgbGV0IG1zZzogUGVyZiA9IHtcbiAgICBkaWZmaWN1bHR5OiBkaWZmaWN1bHR5X2ZhY3RvcixcbiAgICB0aW1lOiB0aW1lLFxuICB9O1xuICBwb3N0TWVzc2FnZShtc2cpO1xufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdGxvYWRlZDogZmFsc2UsXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuXHRtb2R1bGUubG9hZGVkID0gdHJ1ZTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5obWQgPSAobW9kdWxlKSA9PiB7XG5cdG1vZHVsZSA9IE9iamVjdC5jcmVhdGUobW9kdWxlKTtcblx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCAnZXhwb3J0cycsIHtcblx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdHNldDogKCkgPT4ge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdFUyBNb2R1bGVzIG1heSBub3QgYXNzaWduIG1vZHVsZS5leHBvcnRzIG9yIGV4cG9ydHMuKiwgVXNlIEVTTSBleHBvcnQgc3ludGF4LCBpbnN0ZWFkOiAnICsgbW9kdWxlLmlkKTtcblx0XHR9XG5cdH0pO1xuXHRyZXR1cm4gbW9kdWxlO1xufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy52ID0gKGV4cG9ydHMsIHdhc21Nb2R1bGVJZCwgd2FzbU1vZHVsZUhhc2gsIGltcG9ydHNPYmopID0+IHtcblx0dmFyIHJlcSA9IGZldGNoKF9fd2VicGFja19yZXF1aXJlX18ucCArIFwiXCIgKyB3YXNtTW9kdWxlSGFzaCArIFwiLm1vZHVsZS53YXNtXCIpO1xuXHRpZiAodHlwZW9mIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0cmV0dXJuIFdlYkFzc2VtYmx5Lmluc3RhbnRpYXRlU3RyZWFtaW5nKHJlcSwgaW1wb3J0c09iailcblx0XHRcdC50aGVuKChyZXMpID0+IChPYmplY3QuYXNzaWduKGV4cG9ydHMsIHJlcy5pbnN0YW5jZS5leHBvcnRzKSkpO1xuXHR9XG5cdHJldHVybiByZXFcblx0XHQudGhlbigoeCkgPT4gKHguYXJyYXlCdWZmZXIoKSkpXG5cdFx0LnRoZW4oKGJ5dGVzKSA9PiAoV2ViQXNzZW1ibHkuaW5zdGFudGlhdGUoYnl0ZXMsIGltcG9ydHNPYmopKSlcblx0XHQudGhlbigocmVzKSA9PiAoT2JqZWN0LmFzc2lnbihleHBvcnRzLCByZXMuaW5zdGFuY2UuZXhwb3J0cykpKTtcbn07IiwidmFyIHNjcmlwdFVybDtcbmlmIChfX3dlYnBhY2tfcmVxdWlyZV9fLmcuaW1wb3J0U2NyaXB0cykgc2NyaXB0VXJsID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmxvY2F0aW9uICsgXCJcIjtcbnZhciBkb2N1bWVudCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5kb2N1bWVudDtcbmlmICghc2NyaXB0VXJsICYmIGRvY3VtZW50KSB7XG5cdGlmIChkb2N1bWVudC5jdXJyZW50U2NyaXB0KVxuXHRcdHNjcmlwdFVybCA9IGRvY3VtZW50LmN1cnJlbnRTY3JpcHQuc3JjXG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkgc2NyaXB0VXJsID0gc2NyaXB0c1tzY3JpcHRzLmxlbmd0aCAtIDFdLnNyY1xuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIHVzZWQgJ21vZHVsZScgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDMwMyk7XG4iXSwibmFtZXMiOlsid2VicGFja1RoZW4iLCJ3ZWJwYWNrRXhwb3J0cyIsImNvbXBsZXRlUXVldWUiLCJjb21wbGV0ZUZ1bmN0aW9uIiwicXVldWVGdW5jdGlvbiIsIldBU01fVkVDVE9SX0xFTiIsImNhY2hlZ2V0VWludDhNZW1vcnkwIiwiZ2V0VWludDhNZW1vcnkwIiwiYnVmZmVyIiwiVWludDhBcnJheSIsImNhY2hlZFRleHRFbmNvZGVyIiwiVGV4dEVuY29kZXIiLCJtb2R1bGUiLCJyZXF1aXJlIiwiZW5jb2RlU3RyaW5nIiwiZW5jb2RlSW50byIsImFyZyIsInZpZXciLCJidWYiLCJlbmNvZGUiLCJzZXQiLCJyZWFkIiwibGVuZ3RoIiwid3JpdHRlbiIsInBhc3NTdHJpbmdUb1dhc20wIiwibWFsbG9jIiwicmVhbGxvYyIsInVuZGVmaW5lZCIsInB0ciIsInN1YmFycmF5IiwibGVuIiwibWVtIiwib2Zmc2V0IiwiY29kZSIsImNoYXJDb2RlQXQiLCJzbGljZSIsImNhY2hlZ2V0SW50MzJNZW1vcnkwIiwiZ2V0SW50MzJNZW1vcnkwIiwiSW50MzJBcnJheSIsImNhY2hlZFRleHREZWNvZGVyIiwiVGV4dERlY29kZXIiLCJpZ25vcmVCT00iLCJmYXRhbCIsImdlbl9wb3ciLCJzYWx0IiwicGhyYXNlIiwiZGlmZmljdWx0eV9mYWN0b3IiLCJyZXRwdHIiLCJwdHIwIiwibGVuMCIsInB0cjEiLCJsZW4xIiwicjAiLCJyMSIsImRlY29kZSIsImNvbmZpZyIsInN0cmluZyIsImNvbnNvbGUiLCJkZWJ1ZyIsIm9ubWVzc2FnZSIsImV2ZW50IiwicGFyc2VJbnQiLCJkYXRhIiwidDAiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInQxIiwicG9zdE1lc3NhZ2UiLCJkaWZmaWN1bHR5IiwidGltZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsImV4cG9ydHMiLCJpZCIsImxvYWRlZCIsIl9fd2VicGFja19tb2R1bGVzX18iLCJTeW1ib2wiLCJxdWV1ZSIsImZvckVhY2giLCJmbiIsInIiLCJwdXNoIiwiYSIsImJvZHkiLCJoYXNBd2FpdCIsImN1cnJlbnREZXBzIiwib3V0ZXJSZXNvbHZlIiwicmVqZWN0IiwiaXNFdmFsdWF0aW5nIiwibmVzdGVkIiwid2hlbkFsbCIsImRlcHMiLCJvblJlc29sdmUiLCJvblJlamVjdCIsIm1hcCIsImRlcCIsImkiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWoiLCJyZWplY3RGbiIsImNhdGNoIiwicmVzdWx0IiwidGhlbiIsIm9iaiIsInJldCIsIndyYXBEZXBzIiwiZCIsImRlZmluaXRpb24iLCJrZXkiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiZyIsImdsb2JhbFRoaXMiLCJ0aGlzIiwiRnVuY3Rpb24iLCJlIiwid2luZG93IiwiaG1kIiwiY3JlYXRlIiwiY2hpbGRyZW4iLCJFcnJvciIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJ2Iiwid2FzbU1vZHVsZUlkIiwid2FzbU1vZHVsZUhhc2giLCJpbXBvcnRzT2JqIiwicmVxIiwiZmV0Y2giLCJwIiwiV2ViQXNzZW1ibHkiLCJpbnN0YW50aWF0ZVN0cmVhbWluZyIsInJlcyIsImFzc2lnbiIsImluc3RhbmNlIiwieCIsImFycmF5QnVmZmVyIiwiYnl0ZXMiLCJpbnN0YW50aWF0ZSIsInNjcmlwdFVybCIsImltcG9ydFNjcmlwdHMiLCJsb2NhdGlvbiIsImRvY3VtZW50IiwiY3VycmVudFNjcmlwdCIsInNyYyIsInNjcmlwdHMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsInJlcGxhY2UiXSwic291cmNlUm9vdCI6IiJ9