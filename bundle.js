(()=>{"use strict";var e,t,n,r,a,o={485:(e,t,n)=>{n.a(e,(async r=>{n.d(t,{I:()=>b});var a=n(426);e=n.hmd(e);var o=r([a]);a=(o.then?await o:o)[0];let c=0,i=null;function d(){return null!==i&&i.buffer===a.memory.buffer||(i=new Uint8Array(a.memory.buffer)),i}let l=new("undefined"==typeof TextEncoder?(0,e.require)("util").TextEncoder:TextEncoder)("utf-8");const u="function"==typeof l.encodeInto?function(e,t){return l.encodeInto(e,t)}:function(e,t){const n=l.encode(e);return t.set(n),{read:e.length,written:n.length}};function s(e,t,n){if(void 0===n){const n=l.encode(e),r=t(n.length);return d().subarray(r,r+n.length).set(n),c=n.length,r}let r=e.length,a=t(r);const o=d();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;o[a+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),a=n(a,r,r=i+3*e.length);const t=d().subarray(a+i,a+r);i+=u(e,t).written}return c=i,a}let f=null;function p(){return null!==f&&f.buffer===a.memory.buffer||(f=new Int32Array(a.memory.buffer)),f}let m=new("undefined"==typeof TextDecoder?(0,e.require)("util").TextDecoder:TextDecoder)("utf-8",{ignoreBOM:!0,fatal:!0});function b(e,t,n){try{const y=a.__wbindgen_add_to_stack_pointer(-16);var r=s(e,a.__wbindgen_malloc,a.__wbindgen_realloc),o=c,i=s(t,a.__wbindgen_malloc,a.__wbindgen_realloc),l=c;a.gen_pow(y,r,o,i,l,n);var u=p()[y/4+0],f=p()[y/4+1];return b=u,h=f,m.decode(d().subarray(b,b+h))}finally{a.__wbindgen_add_to_stack_pointer(16),a.__wbindgen_free(u,f)}var b,h}m.decode()}))},607:(e,t,n)=>{n.a(e,(async e=>{var t=n(485),r=e([t]);t=(r.then?await r:r)[0];var a={string:"6e2a53dbc7d307970d7ba3c0000221722cb74f1c325137251ce8fa5c2240",difficulty_factor:1,salt:"674243647f1c355da8607a8cdda05120d79ca5d1af8b3b49359d056a0a82"},o=[],c=document.getElementById("stats"),i=function(e,t){var n=document.createElement("tr");n.className="data";var r=document.createElement("td");r.innerHTML=e.toString();var a=document.createElement("td");a.innerHTML=t.toString(),n.appendChild(r),n.appendChild(a),c.appendChild(n),o.push({difficulty:e,time:t})};document.getElementById("start").addEventListener("click",(function(e){return d(e)}));var d=function(e){e.preventDefault(),document.getElementById("pre-bench").style.display="none",document.getElementById("bench").style.display="flex";for(var n=1;n<10;n++){var r=5e5*n;a.difficulty_factor=r;var c=performance.now();(0,t.I)(a.salt,a.string,a.difficulty_factor);var d=performance.now();i(r,d-c)}!function(){var e={threads:window.navigator.hardwareConcurrency,oscup:window.navigator.userAgent};console.log(o),console.log(e);var t=document.createElement("div"),n=document.createElement("b");n.innerText="User Agent: ";var r=document.createTextNode(""+e.oscup),a=document.createElement("b");a.innerText="Hardware concurrency: ";var c=document.createTextNode(""+e.threads);t.appendChild(n),t.appendChild(r),t.appendChild(document.createElement("br")),t.appendChild(a),t.appendChild(c),document.getElementById("device-info").appendChild(t)}(),document.getElementById("status").innerHTML="Benchmark finished"}}))},426:(e,t,n)=>{e.exports=n.v(t,e.id,"b08ac87b47bbc78ac8ba")}},c={};function i(e){var t=c[e];if(void 0!==t)return t.exports;var n=c[e]={id:e,loaded:!1,exports:{}};return o[e](n,n.exports,i),n.loaded=!0,n.exports}e="function"==typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"==typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},r=e=>!--e.r&&e(),a=(e,t)=>e?e.push(t):r(t),i.a=(o,c,i)=>{var d,l,u,s=i&&[],f=o.exports,p=!0,m=!1,b=(t,n,r)=>{m||(m=!0,n.r+=t.length,t.map(((t,a)=>t[e](n,r))),m=!1)},h=new Promise(((e,t)=>{u=t,l=()=>(e(f),n(s),s=0)}));h[t]=f,h[e]=(e,t)=>{if(p)return r(e);d&&b(d,e,t),a(s,e),h.catch(t)},o.exports=h,c((o=>{if(!o)return l();var c,i;d=(o=>o.map((o=>{if(null!==o&&"object"==typeof o){if(o[e])return o;if(o.then){var c=[];o.then((e=>{i[t]=e,n(c),c=0}));var i={};return i[e]=(e,t)=>(a(c,e),o.catch(t)),i}}var d={};return d[e]=e=>r(e),d[t]=o,d})))(o);var u=new Promise(((e,n)=>{(c=()=>e(i=d.map((e=>e[t])))).r=0,b(d,c,n)}));return c.r?u:i})).then(l,u),p=!1},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.v=(e,t,n,r)=>{var a=fetch(i.p+""+n+".module.wasm");return"function"==typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(a,r).then((t=>Object.assign(e,t.instance.exports))):a.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,r))).then((t=>Object.assign(e,t.instance.exports)))},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e})(),i(607)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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cUJKLEVBQUtELEdBQzNDM0IsTUFBTTdFLEdBQVNxRixPQUFPeUIsT0FBTy9ELEVBQVMvQyxFQUFJK0csU0FBU2hFLFdBRS9DMEQsRUFDTDVCLE1BQU1tQyxHQUFPQSxFQUFFQyxnQkFDZnBDLE1BQU1xQyxHQUFXTixZQUFZTyxZQUFZRCxFQUFPVixLQUNoRDNCLE1BQU03RSxHQUFTcUYsT0FBT3lCLE9BQU8vRCxFQUFTL0MsRUFBSStHLFNBQVNoRSxZLE1DVHRELElBQUlxRSxFQUNBeEUsRUFBb0I2QyxFQUFFNEIsZ0JBQWVELEVBQVl4RSxFQUFvQjZDLEVBQUU2QixTQUFXLElBQ3RGLElBQUlwSCxFQUFXMEMsRUFBb0I2QyxFQUFFdkYsU0FDckMsSUFBS2tILEdBQWFsSCxJQUNiQSxFQUFTcUgsZ0JBQ1pILEVBQVlsSCxFQUFTcUgsY0FBY0MsTUFDL0JKLEdBQVcsQ0FDZixJQUFJSyxFQUFVdkgsRUFBU3dILHFCQUFxQixVQUN6Q0QsRUFBUTVKLFNBQVF1SixFQUFZSyxFQUFRQSxFQUFRNUosT0FBUyxHQUFHMkosS0FLN0QsSUFBS0osRUFBVyxNQUFNLElBQUlwQixNQUFNLHlEQUNoQ29CLEVBQVlBLEVBQVVPLFFBQVEsT0FBUSxJQUFJQSxRQUFRLFFBQVMsSUFBSUEsUUFBUSxZQUFhLEtBQ3BGL0UsRUFBb0IrRCxFQUFJUyxHLEdDWkV4RSxFQUFvQixNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYmVuY2hlcy93ZWJwYWNrL3J1bnRpbWUvYXN5bmMgbW9kdWxlIiwid2VicGFjazovL2JlbmNoZXMvLi9ub2RlX21vZHVsZXMvbWNhcHRjaGEtYnJvd3Nlci9tY2FwdGNoYV9icm93c2VyX2JnLmpzIiwid2VicGFjazovL2JlbmNoZXMvLi9zcmMvaW5kZXgudHMiLCJ3ZWJwYWNrOi8vYmVuY2hlcy93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9iZW5jaGVzL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9iZW5jaGVzL3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vYmVuY2hlcy93ZWJwYWNrL3J1bnRpbWUvaGFybW9ueSBtb2R1bGUgZGVjb3JhdG9yIiwid2VicGFjazovL2JlbmNoZXMvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9iZW5jaGVzL3dlYnBhY2svcnVudGltZS93YXNtIGxvYWRpbmciLCJ3ZWJwYWNrOi8vYmVuY2hlcy93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly9iZW5jaGVzL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgd2VicGFja1RoZW4gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgPyBTeW1ib2woXCJ3ZWJwYWNrIHRoZW5cIikgOiBcIl9fd2VicGFja190aGVuX19cIjtcbnZhciB3ZWJwYWNrRXhwb3J0cyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiA/IFN5bWJvbChcIndlYnBhY2sgZXhwb3J0c1wiKSA6IFwiX193ZWJwYWNrX2V4cG9ydHNfX1wiO1xudmFyIGNvbXBsZXRlUXVldWUgPSAocXVldWUpID0+IHtcblx0aWYocXVldWUpIHtcblx0XHRxdWV1ZS5mb3JFYWNoKChmbikgPT4gKGZuLnItLSkpO1xuXHRcdHF1ZXVlLmZvckVhY2goKGZuKSA9PiAoZm4uci0tID8gZm4ucisrIDogZm4oKSkpO1xuXHR9XG59XG52YXIgY29tcGxldGVGdW5jdGlvbiA9IChmbikgPT4gKCEtLWZuLnIgJiYgZm4oKSk7XG52YXIgcXVldWVGdW5jdGlvbiA9IChxdWV1ZSwgZm4pID0+IChxdWV1ZSA/IHF1ZXVlLnB1c2goZm4pIDogY29tcGxldGVGdW5jdGlvbihmbikpO1xudmFyIHdyYXBEZXBzID0gKGRlcHMpID0+IChkZXBzLm1hcCgoZGVwKSA9PiB7XG5cdGlmKGRlcCAhPT0gbnVsbCAmJiB0eXBlb2YgZGVwID09PSBcIm9iamVjdFwiKSB7XG5cdFx0aWYoZGVwW3dlYnBhY2tUaGVuXSkgcmV0dXJuIGRlcDtcblx0XHRpZihkZXAudGhlbikge1xuXHRcdFx0dmFyIHF1ZXVlID0gW107XG5cdFx0XHRkZXAudGhlbigocikgPT4ge1xuXHRcdFx0XHRvYmpbd2VicGFja0V4cG9ydHNdID0gcjtcblx0XHRcdFx0Y29tcGxldGVRdWV1ZShxdWV1ZSk7XG5cdFx0XHRcdHF1ZXVlID0gMDtcblx0XHRcdH0pO1xuXHRcdFx0dmFyIG9iaiA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvYmpbd2VicGFja1RoZW5dID0gKGZuLCByZWplY3QpID0+IChxdWV1ZUZ1bmN0aW9uKHF1ZXVlLCBmbiksIGRlcC5jYXRjaChyZWplY3QpKTtcblx0XHRcdHJldHVybiBvYmo7XG5cdFx0fVxuXHR9XG5cdHZhciByZXQgPSB7fTtcblx0XHRcdFx0XHRcdHJldFt3ZWJwYWNrVGhlbl0gPSAoZm4pID0+IChjb21wbGV0ZUZ1bmN0aW9uKGZuKSk7XG5cdFx0XHRcdFx0XHRyZXRbd2VicGFja0V4cG9ydHNdID0gZGVwO1xuXHRcdFx0XHRcdFx0cmV0dXJuIHJldDtcbn0pKTtcbl9fd2VicGFja19yZXF1aXJlX18uYSA9IChtb2R1bGUsIGJvZHksIGhhc0F3YWl0KSA9PiB7XG5cdHZhciBxdWV1ZSA9IGhhc0F3YWl0ICYmIFtdO1xuXHR2YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzO1xuXHR2YXIgY3VycmVudERlcHM7XG5cdHZhciBvdXRlclJlc29sdmU7XG5cdHZhciByZWplY3Q7XG5cdHZhciBpc0V2YWx1YXRpbmcgPSB0cnVlO1xuXHR2YXIgbmVzdGVkID0gZmFsc2U7XG5cdHZhciB3aGVuQWxsID0gKGRlcHMsIG9uUmVzb2x2ZSwgb25SZWplY3QpID0+IHtcblx0XHRpZiAobmVzdGVkKSByZXR1cm47XG5cdFx0bmVzdGVkID0gdHJ1ZTtcblx0XHRvblJlc29sdmUuciArPSBkZXBzLmxlbmd0aDtcblx0XHRkZXBzLm1hcCgoZGVwLCBpKSA9PiAoZGVwW3dlYnBhY2tUaGVuXShvblJlc29sdmUsIG9uUmVqZWN0KSkpO1xuXHRcdG5lc3RlZCA9IGZhbHNlO1xuXHR9O1xuXHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWopID0+IHtcblx0XHRyZWplY3QgPSByZWo7XG5cdFx0b3V0ZXJSZXNvbHZlID0gKCkgPT4gKHJlc29sdmUoZXhwb3J0cyksIGNvbXBsZXRlUXVldWUocXVldWUpLCBxdWV1ZSA9IDApO1xuXHR9KTtcblx0cHJvbWlzZVt3ZWJwYWNrRXhwb3J0c10gPSBleHBvcnRzO1xuXHRwcm9taXNlW3dlYnBhY2tUaGVuXSA9IChmbiwgcmVqZWN0Rm4pID0+IHtcblx0XHRpZiAoaXNFdmFsdWF0aW5nKSB7IHJldHVybiBjb21wbGV0ZUZ1bmN0aW9uKGZuKTsgfVxuXHRcdGlmIChjdXJyZW50RGVwcykgd2hlbkFsbChjdXJyZW50RGVwcywgZm4sIHJlamVjdEZuKTtcblx0XHRxdWV1ZUZ1bmN0aW9uKHF1ZXVlLCBmbik7XG5cdFx0cHJvbWlzZS5jYXRjaChyZWplY3RGbik7XG5cdH07XG5cdG1vZHVsZS5leHBvcnRzID0gcHJvbWlzZTtcblx0Ym9keSgoZGVwcykgPT4ge1xuXHRcdGlmKCFkZXBzKSByZXR1cm4gb3V0ZXJSZXNvbHZlKCk7XG5cdFx0Y3VycmVudERlcHMgPSB3cmFwRGVwcyhkZXBzKTtcblx0XHR2YXIgZm4sIHJlc3VsdDtcblx0XHR2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblx0XHRcdGZuID0gKCkgPT4gKHJlc29sdmUocmVzdWx0ID0gY3VycmVudERlcHMubWFwKChkKSA9PiAoZFt3ZWJwYWNrRXhwb3J0c10pKSkpO1xuXHRcdFx0Zm4uciA9IDA7XG5cdFx0XHR3aGVuQWxsKGN1cnJlbnREZXBzLCBmbiwgcmVqZWN0KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gZm4uciA/IHByb21pc2UgOiByZXN1bHQ7XG5cdH0pLnRoZW4ob3V0ZXJSZXNvbHZlLCByZWplY3QpO1xuXHRpc0V2YWx1YXRpbmcgPSBmYWxzZTtcbn07IiwiaW1wb3J0ICogYXMgd2FzbSBmcm9tICcuL21jYXB0Y2hhX2Jyb3dzZXJfYmcud2FzbSc7XG5cbmxldCBXQVNNX1ZFQ1RPUl9MRU4gPSAwO1xuXG5sZXQgY2FjaGVnZXRVaW50OE1lbW9yeTAgPSBudWxsO1xuZnVuY3Rpb24gZ2V0VWludDhNZW1vcnkwKCkge1xuICAgIGlmIChjYWNoZWdldFVpbnQ4TWVtb3J5MCA9PT0gbnVsbCB8fCBjYWNoZWdldFVpbnQ4TWVtb3J5MC5idWZmZXIgIT09IHdhc20ubWVtb3J5LmJ1ZmZlcikge1xuICAgICAgICBjYWNoZWdldFVpbnQ4TWVtb3J5MCA9IG5ldyBVaW50OEFycmF5KHdhc20ubWVtb3J5LmJ1ZmZlcik7XG4gICAgfVxuICAgIHJldHVybiBjYWNoZWdldFVpbnQ4TWVtb3J5MDtcbn1cblxuY29uc3QgbFRleHRFbmNvZGVyID0gdHlwZW9mIFRleHRFbmNvZGVyID09PSAndW5kZWZpbmVkJyA/ICgwLCBtb2R1bGUucmVxdWlyZSkoJ3V0aWwnKS5UZXh0RW5jb2RlciA6IFRleHRFbmNvZGVyO1xuXG5sZXQgY2FjaGVkVGV4dEVuY29kZXIgPSBuZXcgbFRleHRFbmNvZGVyKCd1dGYtOCcpO1xuXG5jb25zdCBlbmNvZGVTdHJpbmcgPSAodHlwZW9mIGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZUludG8gPT09ICdmdW5jdGlvbidcbiAgICA/IGZ1bmN0aW9uIChhcmcsIHZpZXcpIHtcbiAgICByZXR1cm4gY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlSW50byhhcmcsIHZpZXcpO1xufVxuICAgIDogZnVuY3Rpb24gKGFyZywgdmlldykge1xuICAgIGNvbnN0IGJ1ZiA9IGNhY2hlZFRleHRFbmNvZGVyLmVuY29kZShhcmcpO1xuICAgIHZpZXcuc2V0KGJ1Zik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVhZDogYXJnLmxlbmd0aCxcbiAgICAgICAgd3JpdHRlbjogYnVmLmxlbmd0aFxuICAgIH07XG59KTtcblxuZnVuY3Rpb24gcGFzc1N0cmluZ1RvV2FzbTAoYXJnLCBtYWxsb2MsIHJlYWxsb2MpIHtcblxuICAgIGlmIChyZWFsbG9jID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgYnVmID0gY2FjaGVkVGV4dEVuY29kZXIuZW5jb2RlKGFyZyk7XG4gICAgICAgIGNvbnN0IHB0ciA9IG1hbGxvYyhidWYubGVuZ3RoKTtcbiAgICAgICAgZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyLCBwdHIgKyBidWYubGVuZ3RoKS5zZXQoYnVmKTtcbiAgICAgICAgV0FTTV9WRUNUT1JfTEVOID0gYnVmLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIHB0cjtcbiAgICB9XG5cbiAgICBsZXQgbGVuID0gYXJnLmxlbmd0aDtcbiAgICBsZXQgcHRyID0gbWFsbG9jKGxlbik7XG5cbiAgICBjb25zdCBtZW0gPSBnZXRVaW50OE1lbW9yeTAoKTtcblxuICAgIGxldCBvZmZzZXQgPSAwO1xuXG4gICAgZm9yICg7IG9mZnNldCA8IGxlbjsgb2Zmc2V0KyspIHtcbiAgICAgICAgY29uc3QgY29kZSA9IGFyZy5jaGFyQ29kZUF0KG9mZnNldCk7XG4gICAgICAgIGlmIChjb2RlID4gMHg3RikgYnJlYWs7XG4gICAgICAgIG1lbVtwdHIgKyBvZmZzZXRdID0gY29kZTtcbiAgICB9XG5cbiAgICBpZiAob2Zmc2V0ICE9PSBsZW4pIHtcbiAgICAgICAgaWYgKG9mZnNldCAhPT0gMCkge1xuICAgICAgICAgICAgYXJnID0gYXJnLnNsaWNlKG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgICAgcHRyID0gcmVhbGxvYyhwdHIsIGxlbiwgbGVuID0gb2Zmc2V0ICsgYXJnLmxlbmd0aCAqIDMpO1xuICAgICAgICBjb25zdCB2aWV3ID0gZ2V0VWludDhNZW1vcnkwKCkuc3ViYXJyYXkocHRyICsgb2Zmc2V0LCBwdHIgKyBsZW4pO1xuICAgICAgICBjb25zdCByZXQgPSBlbmNvZGVTdHJpbmcoYXJnLCB2aWV3KTtcblxuICAgICAgICBvZmZzZXQgKz0gcmV0LndyaXR0ZW47XG4gICAgfVxuXG4gICAgV0FTTV9WRUNUT1JfTEVOID0gb2Zmc2V0O1xuICAgIHJldHVybiBwdHI7XG59XG5cbmxldCBjYWNoZWdldEludDMyTWVtb3J5MCA9IG51bGw7XG5mdW5jdGlvbiBnZXRJbnQzMk1lbW9yeTAoKSB7XG4gICAgaWYgKGNhY2hlZ2V0SW50MzJNZW1vcnkwID09PSBudWxsIHx8IGNhY2hlZ2V0SW50MzJNZW1vcnkwLmJ1ZmZlciAhPT0gd2FzbS5tZW1vcnkuYnVmZmVyKSB7XG4gICAgICAgIGNhY2hlZ2V0SW50MzJNZW1vcnkwID0gbmV3IEludDMyQXJyYXkod2FzbS5tZW1vcnkuYnVmZmVyKTtcbiAgICB9XG4gICAgcmV0dXJuIGNhY2hlZ2V0SW50MzJNZW1vcnkwO1xufVxuXG5jb25zdCBsVGV4dERlY29kZXIgPSB0eXBlb2YgVGV4dERlY29kZXIgPT09ICd1bmRlZmluZWQnID8gKDAsIG1vZHVsZS5yZXF1aXJlKSgndXRpbCcpLlRleHREZWNvZGVyIDogVGV4dERlY29kZXI7XG5cbmxldCBjYWNoZWRUZXh0RGVjb2RlciA9IG5ldyBsVGV4dERlY29kZXIoJ3V0Zi04JywgeyBpZ25vcmVCT006IHRydWUsIGZhdGFsOiB0cnVlIH0pO1xuXG5jYWNoZWRUZXh0RGVjb2Rlci5kZWNvZGUoKTtcblxuZnVuY3Rpb24gZ2V0U3RyaW5nRnJvbVdhc20wKHB0ciwgbGVuKSB7XG4gICAgcmV0dXJuIGNhY2hlZFRleHREZWNvZGVyLmRlY29kZShnZXRVaW50OE1lbW9yeTAoKS5zdWJhcnJheShwdHIsIHB0ciArIGxlbikpO1xufVxuLyoqXG4qIGdlbmVyYXRlIHByb29mLW9mLXdvcmtcbiogYGBgcnVzdFxuKiBmbiBtYWluKCkge1xuKiAgICB1c2UgbWNhcHRjaGFfYnJvd3Nlcjo6KjtcbiogICAgdXNlIHBvd19zaGEyNTY6Oio7XG4qXG4qXG4qICAgIC8vIHNhbHQgdXNpbmcgd2hpY2ggUG9XIHNob3VsZCBiZSBjb21wdXRlZFxuKiAgICBjb25zdCBTQUxUOiAmc3RyID0gXCJ5cmFuZG9tc2FsdGlzbm90bG9uZ2Vub3VnXCI7XG4qICAgIC8vIG9uZS10aW1lIHBocmFzZSBvdmVyIHdoaWNoIFBvVyBzaG91bGQgYmUgY29tcHV0ZWRcbiogICAgY29uc3QgUEhSQVNFOiAmc3RyID0gXCJpcm9ubWFuc3Vja3NcIjtcbiogICAgLy8gYW5kIHRoZSBkaWZmaWN1bHR5IGZhY3RvclxuKiAgICBjb25zdCBESUZGSUNVTFRZOiB1MzIgPSAxMDAwO1xuKlxuKiAgICAvLyBjdXJyZW50bHkgZ2VuX3BvdygpIHJldHVybnMgYSBKU09OIGZvcm1hdGVkIHN0cmluZyB0byBiZXR0ZXIgY29tbXVuaWNhdGVcbiogICAgLy8gd2l0aCBKYXZhU2NyaXB0LiBTZWUgW1BvVzxUPl1bcG93X3NoYTI1Njo6UG9XXSBmb3Igc2NoZW1hXG4qICAgIGxldCBzZXJpYWxpc2VkX3dvcmsgPSBnZW5fcG93KFNBTFQuaW50bygpLCBQSFJBU0UuaW50bygpLCBESUZGSUNVTFRZKTtcbipcbipcbiogICAgbGV0IHdvcms6IFdvcmsgPSBzZXJkZV9qc29uOjpmcm9tX3N0cigmc2VyaWFsaXNlZF93b3JrKS51bndyYXAoKTtcbipcbiogICAgbGV0IHdvcmsgPSBQb1dCdWlsZGVyOjpkZWZhdWx0KClcbiogICAgICAgIC5yZXN1bHQod29yay5yZXN1bHQpXG4qICAgICAgICAubm9uY2Uod29yay5ub25jZSlcbiogICAgICAgIC5idWlsZCgpXG4qICAgICAgICAudW53cmFwKCk7XG4qXG4qICAgIGxldCBjb25maWcgPSBDb25maWdCdWlsZGVyOjpkZWZhdWx0KCkuc2FsdChTQUxULmludG8oKSkuYnVpbGQoKS51bndyYXAoKTtcbiogICAgYXNzZXJ0IShjb25maWcuaXNfdmFsaWRfcHJvb2YoJndvcmssICZQSFJBU0UudG9fc3RyaW5nKCkpKTtcbiogICAgYXNzZXJ0IShjb25maWcuaXNfc3VmZmljaWVudF9kaWZmaWN1bHR5KCZ3b3JrLCBESUZGSUNVTFRZKSk7XG4qIH1cbiogYGBgXG4qIEBwYXJhbSB7c3RyaW5nfSBzYWx0XG4qIEBwYXJhbSB7c3RyaW5nfSBwaHJhc2VcbiogQHBhcmFtIHtudW1iZXJ9IGRpZmZpY3VsdHlfZmFjdG9yXG4qIEByZXR1cm5zIHtzdHJpbmd9XG4qL1xuZXhwb3J0IGZ1bmN0aW9uIGdlbl9wb3coc2FsdCwgcGhyYXNlLCBkaWZmaWN1bHR5X2ZhY3Rvcikge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJldHB0ciA9IHdhc20uX193YmluZGdlbl9hZGRfdG9fc3RhY2tfcG9pbnRlcigtMTYpO1xuICAgICAgICB2YXIgcHRyMCA9IHBhc3NTdHJpbmdUb1dhc20wKHNhbHQsIHdhc20uX193YmluZGdlbl9tYWxsb2MsIHdhc20uX193YmluZGdlbl9yZWFsbG9jKTtcbiAgICAgICAgdmFyIGxlbjAgPSBXQVNNX1ZFQ1RPUl9MRU47XG4gICAgICAgIHZhciBwdHIxID0gcGFzc1N0cmluZ1RvV2FzbTAocGhyYXNlLCB3YXNtLl9fd2JpbmRnZW5fbWFsbG9jLCB3YXNtLl9fd2JpbmRnZW5fcmVhbGxvYyk7XG4gICAgICAgIHZhciBsZW4xID0gV0FTTV9WRUNUT1JfTEVOO1xuICAgICAgICB3YXNtLmdlbl9wb3cocmV0cHRyLCBwdHIwLCBsZW4wLCBwdHIxLCBsZW4xLCBkaWZmaWN1bHR5X2ZhY3Rvcik7XG4gICAgICAgIHZhciByMCA9IGdldEludDMyTWVtb3J5MCgpW3JldHB0ciAvIDQgKyAwXTtcbiAgICAgICAgdmFyIHIxID0gZ2V0SW50MzJNZW1vcnkwKClbcmV0cHRyIC8gNCArIDFdO1xuICAgICAgICByZXR1cm4gZ2V0U3RyaW5nRnJvbVdhc20wKHIwLCByMSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2FkZF90b19zdGFja19wb2ludGVyKDE2KTtcbiAgICAgICAgd2FzbS5fX3diaW5kZ2VuX2ZyZWUocjAsIHIxKTtcbiAgICB9XG59XG5cbiIsIi8qXG4gKiBtQ2FwdGNoYSBpcyBhIFBvVyBiYXNlZCBEb1MgcHJvdGVjdGlvbiBzb2Z0d2FyZS5cbiAqIFRoaXMgaXMgdGhlIGZyb250ZW5kIHdlYiBjb21wb25lbnQgb2YgdGhlIG1DYXB0Y2hhIHN5c3RlbVxuICogQ29weXJpZ2h0IMKpIDIwMjEgQXJhdmludGggTWFuaXZuYW5hbiA8cmVhbGFyYXZpbnRoQGJhdHNlbnNlLm5ldD4uXG4gKlxuICogVXNlIG9mIHRoaXMgc291cmNlIGNvZGUgaXMgZ292ZXJuZWQgYnkgQXBhY2hlIDIuMCBvciBNSVQgbGljZW5zZS5cbiAqIFlvdSBzaG91ZCBoYXZlIHJlY2VpdmVkIGEgY29weSBvZiBNSVQgYW5kIEFwYWNoZSAyLjAgYWxvbmcgd2l0aFxuICogdGhpcyBwcm9ncmFtLiBJZiBub3QsIHNlZSA8aHR0cHM6Ly9zcGR4Lm9yZy9saWNlbnNlcy9NSVQuaHRtbD4gZm9yXG4gKiBNSVQgb3IgPGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMD4gZm9yIEFwYWNoZS5cbiAqL1xuaW1wb3J0IHtnZW5fcG93fSBmcm9tICdtY2FwdGNoYS1icm93c2VyJztcblxudHlwZSBQb1dDb25maWcgPSB7XG4gIHN0cmluZzogc3RyaW5nO1xuICBkaWZmaWN1bHR5X2ZhY3RvcjogbnVtYmVyO1xuICBzYWx0OiBzdHJpbmc7XG59O1xuXG5jb25zdCBGQUNUT1IgPSA1MDAwMDA7XG5jb25zdCBTQUxUID0gJzY3NDI0MzY0N2YxYzM1NWRhODYwN2E4Y2RkYTA1MTIwZDc5Y2E1ZDFhZjhiM2I0OTM1OWQwNTZhMGE4Mic7XG5jb25zdCBQSFJBU0UgPSAnNmUyYTUzZGJjN2QzMDc5NzBkN2JhM2MwMDAwMjIxNzIyY2I3NGYxYzMyNTEzNzI1MWNlOGZhNWMyMjQwJztcblxuY29uc3QgY29uZmlnOiBQb1dDb25maWcgPSB7XG4gIHN0cmluZzogUEhSQVNFLFxuICBkaWZmaWN1bHR5X2ZhY3RvcjogMSxcbiAgc2FsdDogU0FMVCxcbn07XG5cbnR5cGUgUGVyZiA9IHtcbiAgZGlmZmljdWx0eTogTnVtYmVyO1xuICB0aW1lOiBOdW1iZXI7XG59O1xuXG5jb25zdCByZXM6IEFycmF5PFBlcmY+ID0gW107XG5cbmNvbnN0IHN0YXRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N0YXRzJyk7XG5cbmNvbnN0IGFkZFJlc3VsdCA9IChkaWZmaWN1bHR5OiBOdW1iZXIsIHRpbWU6IE51bWJlcikgPT4ge1xuICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cicpO1xuICByb3cuY2xhc3NOYW1lID0gJ2RhdGEnO1xuICBjb25zdCBkaWZmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgZGlmZi5pbm5lckhUTUwgPSBkaWZmaWN1bHR5LnRvU3RyaW5nKCk7XG4gIGNvbnN0IGR1cmF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGQnKTtcbiAgZHVyYXRpb24uaW5uZXJIVE1MID0gdGltZS50b1N0cmluZygpO1xuXG4gIHJvdy5hcHBlbmRDaGlsZChkaWZmKTtcbiAgcm93LmFwcGVuZENoaWxkKGR1cmF0aW9uKTtcblxuICBzdGF0cy5hcHBlbmRDaGlsZChyb3cpO1xuXG4gIHJlcy5wdXNoKHtkaWZmaWN1bHR5LCB0aW1lfSk7XG59O1xuXG5jb25zdCBhZGREZXZpY2VJbmZvID0gKCkgPT4ge1xuICBjb25zdCBJTkZPID0ge1xuICAgIHRocmVhZHM6IHdpbmRvdy5uYXZpZ2F0b3IuaGFyZHdhcmVDb25jdXJyZW5jeSxcbiAgICBvc2N1cDogd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQsXG4gIH07XG5cbiAgY29uc29sZS5sb2cocmVzKTtcbiAgY29uc29sZS5sb2coSU5GTyk7XG5cbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBjb25zdCB1YSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2InKTtcbiAgdWEuaW5uZXJUZXh0ID0gJ1VzZXIgQWdlbnQ6ICc7XG4gIGNvbnN0IG9zID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoYCR7SU5GTy5vc2N1cH1gKTtcblxuICBjb25zdCB0aHJlYWRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYicpO1xuICB0aHJlYWRzLmlubmVyVGV4dCA9ICdIYXJkd2FyZSBjb25jdXJyZW5jeTogJztcbiAgY29uc3QgdGhyZWFkc1RleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShgJHtJTkZPLnRocmVhZHN9YCk7XG5cbiAgZWxlbWVudC5hcHBlbmRDaGlsZCh1YSk7XG4gIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3MpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2JyJykpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKHRocmVhZHMpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKHRocmVhZHNUZXh0KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGV2aWNlLWluZm8nKS5hcHBlbmRDaGlsZChlbGVtZW50KTtcbn07XG5cbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGFydCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZSA9PiBydW4oZSkpO1xuXG5jb25zdCBydW4gPSAoZTogRXZlbnQpID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJlLWJlbmNoJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JlbmNoJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcblxuICBmb3IgKGxldCBpID0gMTsgaSA8IDEwOyBpKyspIHtcbiAgICBsZXQgZGlmZmljdWx0eV9mYWN0b3IgPSBpICogRkFDVE9SO1xuICAgIGNvbmZpZy5kaWZmaWN1bHR5X2ZhY3RvciA9IGRpZmZpY3VsdHlfZmFjdG9yO1xuXG4gICAgY29uc3QgdDAgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBnZW5fcG93KGNvbmZpZy5zYWx0LCBjb25maWcuc3RyaW5nLCBjb25maWcuZGlmZmljdWx0eV9mYWN0b3IpO1xuICAgIGNvbnN0IHQxID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgY29uc3QgdGltZSA9IHQxIC0gdDA7XG5cbiAgICBhZGRSZXN1bHQoZGlmZmljdWx0eV9mYWN0b3IsIHRpbWUpO1xuICB9XG5cbiAgYWRkRGV2aWNlSW5mbygpO1xuXG4gIGNvbnN0IHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzJyk7XG4gIHMuaW5uZXJIVE1MID0gJ0JlbmNobWFyayBmaW5pc2hlZCc7XG59O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0bG9hZGVkOiBmYWxzZSxcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG5cdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5nID0gKGZ1bmN0aW9uKCkge1xuXHRpZiAodHlwZW9mIGdsb2JhbFRoaXMgPT09ICdvYmplY3QnKSByZXR1cm4gZ2xvYmFsVGhpcztcblx0dHJ5IHtcblx0XHRyZXR1cm4gdGhpcyB8fCBuZXcgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblx0fSBjYXRjaCAoZSkge1xuXHRcdGlmICh0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JykgcmV0dXJuIHdpbmRvdztcblx0fVxufSkoKTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmhtZCA9IChtb2R1bGUpID0+IHtcblx0bW9kdWxlID0gT2JqZWN0LmNyZWF0ZShtb2R1bGUpO1xuXHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsICdleHBvcnRzJywge1xuXHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0c2V0OiAoKSA9PiB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0VTIE1vZHVsZXMgbWF5IG5vdCBhc3NpZ24gbW9kdWxlLmV4cG9ydHMgb3IgZXhwb3J0cy4qLCBVc2UgRVNNIGV4cG9ydCBzeW50YXgsIGluc3RlYWQ6ICcgKyBtb2R1bGUuaWQpO1xuXHRcdH1cblx0fSk7XG5cdHJldHVybiBtb2R1bGU7XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnYgPSAoZXhwb3J0cywgd2FzbU1vZHVsZUlkLCB3YXNtTW9kdWxlSGFzaCwgaW1wb3J0c09iaikgPT4ge1xuXHR2YXIgcmVxID0gZmV0Y2goX193ZWJwYWNrX3JlcXVpcmVfXy5wICsgXCJcIiArIHdhc21Nb2R1bGVIYXNoICsgXCIubW9kdWxlLndhc21cIik7XG5cdGlmICh0eXBlb2YgV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcgPT09ICdmdW5jdGlvbicpIHtcblx0XHRyZXR1cm4gV2ViQXNzZW1ibHkuaW5zdGFudGlhdGVTdHJlYW1pbmcocmVxLCBpbXBvcnRzT2JqKVxuXHRcdFx0LnRoZW4oKHJlcykgPT4gKE9iamVjdC5hc3NpZ24oZXhwb3J0cywgcmVzLmluc3RhbmNlLmV4cG9ydHMpKSk7XG5cdH1cblx0cmV0dXJuIHJlcVxuXHRcdC50aGVuKCh4KSA9PiAoeC5hcnJheUJ1ZmZlcigpKSlcblx0XHQudGhlbigoYnl0ZXMpID0+IChXZWJBc3NlbWJseS5pbnN0YW50aWF0ZShieXRlcywgaW1wb3J0c09iaikpKVxuXHRcdC50aGVuKChyZXMpID0+IChPYmplY3QuYXNzaWduKGV4cG9ydHMsIHJlcy5pbnN0YW5jZS5leHBvcnRzKSkpO1xufTsiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmNcblx0aWYgKCFzY3JpcHRVcmwpIHtcblx0XHR2YXIgc2NyaXB0cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic2NyaXB0XCIpO1xuXHRcdGlmKHNjcmlwdHMubGVuZ3RoKSBzY3JpcHRVcmwgPSBzY3JpcHRzW3NjcmlwdHMubGVuZ3RoIC0gMV0uc3JjXG5cdH1cbn1cbi8vIFdoZW4gc3VwcG9ydGluZyBicm93c2VycyB3aGVyZSBhbiBhdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIHlvdSBtdXN0IHNwZWNpZnkgYW4gb3V0cHV0LnB1YmxpY1BhdGggbWFudWFsbHkgdmlhIGNvbmZpZ3VyYXRpb25cbi8vIG9yIHBhc3MgYW4gZW1wdHkgc3RyaW5nIChcIlwiKSBhbmQgc2V0IHRoZSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyB2YXJpYWJsZSBmcm9tIHlvdXIgY29kZSB0byB1c2UgeW91ciBvd24gbG9naWMuXG5pZiAoIXNjcmlwdFVybCkgdGhyb3cgbmV3IEVycm9yKFwiQXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXJcIik7XG5zY3JpcHRVcmwgPSBzY3JpcHRVcmwucmVwbGFjZSgvIy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcPy4qJC8sIFwiXCIpLnJlcGxhY2UoL1xcL1teXFwvXSskLywgXCIvXCIpO1xuX193ZWJwYWNrX3JlcXVpcmVfXy5wID0gc2NyaXB0VXJsOyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgdXNlZCAnbW9kdWxlJyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oNjA3KTtcbiJdLCJuYW1lcyI6WyJ3ZWJwYWNrVGhlbiIsIndlYnBhY2tFeHBvcnRzIiwiY29tcGxldGVRdWV1ZSIsImNvbXBsZXRlRnVuY3Rpb24iLCJxdWV1ZUZ1bmN0aW9uIiwiV0FTTV9WRUNUT1JfTEVOIiwiY2FjaGVnZXRVaW50OE1lbW9yeTAiLCJnZXRVaW50OE1lbW9yeTAiLCJidWZmZXIiLCJVaW50OEFycmF5IiwiY2FjaGVkVGV4dEVuY29kZXIiLCJUZXh0RW5jb2RlciIsIm1vZHVsZSIsInJlcXVpcmUiLCJlbmNvZGVTdHJpbmciLCJlbmNvZGVJbnRvIiwiYXJnIiwidmlldyIsImJ1ZiIsImVuY29kZSIsInNldCIsInJlYWQiLCJsZW5ndGgiLCJ3cml0dGVuIiwicGFzc1N0cmluZ1RvV2FzbTAiLCJtYWxsb2MiLCJyZWFsbG9jIiwidW5kZWZpbmVkIiwicHRyIiwic3ViYXJyYXkiLCJsZW4iLCJtZW0iLCJvZmZzZXQiLCJjb2RlIiwiY2hhckNvZGVBdCIsInNsaWNlIiwiY2FjaGVnZXRJbnQzMk1lbW9yeTAiLCJnZXRJbnQzMk1lbW9yeTAiLCJJbnQzMkFycmF5IiwiY2FjaGVkVGV4dERlY29kZXIiLCJUZXh0RGVjb2RlciIsImlnbm9yZUJPTSIsImZhdGFsIiwiZ2VuX3BvdyIsInNhbHQiLCJwaHJhc2UiLCJkaWZmaWN1bHR5X2ZhY3RvciIsInJldHB0ciIsInB0cjAiLCJsZW4wIiwicHRyMSIsImxlbjEiLCJyMCIsInIxIiwiZGVjb2RlIiwiY29uZmlnIiwic3RyaW5nIiwicmVzIiwic3RhdHMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiYWRkUmVzdWx0IiwiZGlmZmljdWx0eSIsInRpbWUiLCJyb3ciLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwiZGlmZiIsImlubmVySFRNTCIsInRvU3RyaW5nIiwiZHVyYXRpb24iLCJhcHBlbmRDaGlsZCIsInB1c2giLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInJ1biIsInByZXZlbnREZWZhdWx0Iiwic3R5bGUiLCJkaXNwbGF5IiwiaSIsInQwIiwicGVyZm9ybWFuY2UiLCJub3ciLCJ0MSIsIklORk8iLCJ0aHJlYWRzIiwid2luZG93IiwibmF2aWdhdG9yIiwiaGFyZHdhcmVDb25jdXJyZW5jeSIsIm9zY3VwIiwidXNlckFnZW50IiwiY29uc29sZSIsImxvZyIsImVsZW1lbnQiLCJ1YSIsImlubmVyVGV4dCIsIm9zIiwiY3JlYXRlVGV4dE5vZGUiLCJ0aHJlYWRzVGV4dCIsImFkZERldmljZUluZm8iLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwiaWQiLCJsb2FkZWQiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiU3ltYm9sIiwicXVldWUiLCJmb3JFYWNoIiwiZm4iLCJyIiwiYSIsImJvZHkiLCJoYXNBd2FpdCIsImN1cnJlbnREZXBzIiwib3V0ZXJSZXNvbHZlIiwicmVqZWN0IiwiaXNFdmFsdWF0aW5nIiwibmVzdGVkIiwid2hlbkFsbCIsImRlcHMiLCJvblJlc29sdmUiLCJvblJlamVjdCIsIm1hcCIsImRlcCIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlaiIsInJlamVjdEZuIiwiY2F0Y2giLCJyZXN1bHQiLCJ0aGVuIiwib2JqIiwicmV0Iiwid3JhcERlcHMiLCJkIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImhtZCIsImNyZWF0ZSIsImNoaWxkcmVuIiwiRXJyb3IiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwidiIsIndhc21Nb2R1bGVJZCIsIndhc21Nb2R1bGVIYXNoIiwiaW1wb3J0c09iaiIsInJlcSIsImZldGNoIiwicCIsIldlYkFzc2VtYmx5IiwiaW5zdGFudGlhdGVTdHJlYW1pbmciLCJhc3NpZ24iLCJpbnN0YW5jZSIsIngiLCJhcnJheUJ1ZmZlciIsImJ5dGVzIiwiaW5zdGFudGlhdGUiLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwicmVwbGFjZSJdLCJzb3VyY2VSb290IjoiIn0=